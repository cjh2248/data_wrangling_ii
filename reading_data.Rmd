---
title: "Reading data from the web"
output: github_document
date: "2024-10-12"
---

```{r setup, include=FALSE}
library(tidyverse)
library(rvest)
library(httr)
```

## Scrape a table 

I want the first table from [this page] (https://samhda.s3-us-gov-west-1.amazonaws.com/s3fs-public/field-uploads/2k15StateFiles/NSDUHsaeShortTermCHG2015.htm)

read in the html 

```{r}
url = "https://samhda.s3-us-gov-west-1.amazonaws.com/s3fs-public/field-uploads/2k15StateFiles/NSDUHsaeShortTermCHG2015.htm"

drug_use_html = read_html(url)
```

extract the table(s); focus on the first one

```{r}
drug_use_html |>
  html_table() |>
  first() |>
  slice(-1) |>
  as_tibble()
```



